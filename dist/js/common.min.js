$(document).ready(function(){function a(){var a=(l[0].info,l[0].failed),s=[];for(d=0;d<a.length;d++)s.indexOf(a[d].reason)==-1&&s.push(a[d].reason);for(d=0;d<s.length;d++)p.append(P),r=p.find(".panel").last(),r.find(".panel-text").text(s[d]).attr("data-reason",s[d]);for(d=0;d<a.length;d++)r=p.find('[data-reason="'+a[d].reason+'"]').closest(".panel"),r.find('[data-toggle="collapse"]').attr("href",1),r.find(".collapse").attr("id",1)}function s(){var a=l[0].info,s=l[0].failed;for(u.text(l.branchName),a.hasOwnProperty("success")?v.text(a.success):v.closest("p").hide(),a.hasOwnProperty("failed")?g.text(a.failed):g.closest("p").hide(),a.hasOwnProperty("missing")?m.text(a.missing):m.closest("p").hide(),a.hasOwnProperty("total")?b.text(a.total):b.closest("p").hide(),d=0;d<s.length;d++)h.append("<tr><td>"+d+'</td><td class="filter-text">'+s[d].name+"</td><td>"+s[d].reason+'</td><td class="filter-text">'+t(s[d].tags)+'</td><td><a href="">zip</a></td><td><a href="">play</a></td></tr>')}function e(a){var s,e,t,r;if(a)s=o[0].info,n=$(".card").first(),o[0].sessionId==n.find(".stop-session").attr("id")?(n.find(".progress-bar").attr({"aria-valuenow":s.completedTests,"aria-valuemax":s.total}),n.find(".card-process-data").text(s.completedTests+"/"+s.total)):(i(n.next(".card")),n.remove(),y.sideBarProcess.init(!0));else for(d=0;d<o.length;d++)e=o[d].authorLogin,t=o[d].avatar,s=o[d].info,r=o[d].sessionId,c.append(C),n=c.find(".card").last(),n.find(".card-user-name").text(e),n.find(".card-user-avatar").attr({src:t,alt:"Developer Avatar | "+e}),n.find(".progress-bar").attr({"aria-valuenow":s.completedTests,"aria-valuemax":s.total}),n.find(".card-process-data").text(s.completedTests+"/"+s.total),n.find(".stop-session").attr("id",r),d>0&&(n.find(".progress-bar").removeClass("active"),n.find(".stop-session").removeClass("btn-danger").addClass("btn-warning")),n.removeClass("hidden")}function t(a){return a.map(function(a){return'<span class="chosen-tag">'+a+"</span>"}).join(" ")}function i(a){$(a).find(".progress-bar").addClass("active"),$(a).find(".stop-session").removeClass("btn-warning").addClass("btn-danger")}var n,r,d,o=getProgressData(),l=getLastData(),c=$("#process-sidebar"),f=$("#table"),p=$("#accordion"),h=f.find(".table-result"),u=$("#branch-name"),v=$("#info-success"),g=$("#info-failed"),m=$("#info-missing"),b=$("#info-total"),x=$("#search"),w=$("#group-by-error"),C='<div class="card" class="hidden"> <div class="card-block"> <h3 class="card-title"><span class="card-user-name"></span><span class="pull-right"> <img class="card-user-avatar" src="" alt=""> </span> </h3> <p class="card-text">Lorem ipsum dolor sit amet.</p> <div class="progress"> <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="10" style="width:100%">Testing <span class="card-process-data">135/1080</span> </div> </div> <a href="#" class="btn btn-danger stop-session" id="">Stop</a> </div> </div>',P='<div class="panel panel-default"> <div class="panel-heading"> <h4 class="panel-title"> <a data-toggle="collapse" href="" class="collapsed" aria-expanded="false"> <span class="icons"> <i class="ac ac-plus"></i> <i class="ac ac-minus"></i> </span> <span class="panel-text">Collapsible Group Item #1 </span> </a> </h4> </div> <div id="" class="panel-collapse collapse"> <div class="panel-body">Lorem ipsum dolor sit amet. </div> </div> </div>',y={sideBarProcess:{init:e,update:e},tableProcess:{init:s},accordion:{init:a}};y.sideBarProcess.init(),y.tableProcess.init(),y.accordion.init(),w.on("change",function(){$(this)[0].checked?(p.show(),f.hide()):(p.hide(),f.show())}),x.on("change",function(){var a=$(this).val().toLowerCase().trim(),s=!1;a?h.find("tr").each(function(){var e=$(this);$(this).find(".filter-text").each(function(){s||(~$(this).text().toLowerCase().indexOf(a)?(s=!0,e.show()):e.hide())}),s=!1}):h.find("tr").show()}).bind("focus",function(){h.find("tr").first().find(".filter-text").each(function(){h.closest("table").find("thead th").eq($(this).index()).addClass("active-filter")})}).bind("blur",function(){h.find("tr").first().find(".filter-text").each(function(){h.closest("table").find("thead th").eq($(this).index()).removeClass("active-filter")})})});